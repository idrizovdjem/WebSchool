@using WebSchool.ViewModels.Post
@model PostPreviewViewModel

@{ 
    Layout = "_Layout";
    ViewData["Title"] = "Post";
}

<link rel="stylesheet" href="~/css/post.css" />

<main class="post-container">
    <article class="post">
        <header class="post-header">
            <h3 class="post-creator">@Model.Creator</h3>
            <span class="post-date">@Model.CreatedOn</span>
        </header>
        <p class="post-content">@Model.Content</p>
    </article>

    <section class="comments-section">
        @foreach (var comment in Model.Comments)
        {
            <article class="comment">
                <header class="comment-header">
                    <h3 class="comment-creator">@comment.Creator</h3>
                    <span class="comment-date">@comment.CreatedOn</span>
                </header>
                <p class="comment-content">@comment.Content</p>
            </article>
        }

        <form asp-controller="Comments" asp-action="Create" method="post" class="comment-form">
            <input type="hidden" name="postId" value="@Model.Id" />
            <textarea name="content" class="comment-textarea" placeholder="Write your comment..."></textarea>
            <button class="comment-button">Send</button>
        </form>
    </section>
</main>