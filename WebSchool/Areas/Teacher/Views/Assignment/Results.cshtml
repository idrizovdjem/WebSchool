@{
    Layout = "_Layout";
    int counter = 1;
}

<div class="row">
    <div class="col-md-10 offset-1 text-center">
        <h3>Assignment results</h3>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Assignment Name</th>
                    <th scope="col">Signature</th>
                    <th scope="col">Due Date</th>
                    <th scope="col">Information</th>
                </tr>
            </thead>
            <tbody id="resultsTable">
                <tr>
                    <td>1</td>
                    <td>Тест по програмиране</td>
                    <td>8 D</td>
                    <td>2020/12/9</td>
                    <td><a class="btn btn-primary w-75 text-white">Information</a></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

@section Scripts {
    <script>
        const select = document.getElementById('classesSelect');
        const xhttp = new XMLHttpRequest();
        const table = document.getElementById('resultsTable');

        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                let data = JSON.parse(this.responseText);
                table.innerHTML = "";

                for (let i = 0; i < data.length; i++) {
                    table.innerHTML += `<tr>
                        <td>@(counter++)</td>
                        <td>` + data[i].assignmentName + `</td>
                        <td>` + data[i].signature + `</td>
                        <td>` + data[i].dueDate + `</td>
                        <td><a class="btn btn-primary w-75 text-white">Information</a></td>
                    </tr>`;
                }
            }
        }

        xhttp.open("GET", "/Teacher/Assignment/GetAssignments", true);
        xhttp.send();
    </script>
}